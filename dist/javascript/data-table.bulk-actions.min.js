var DataTableBulkActions=function(n){this.input=null;this.UI={recordCheckboxes:[],section:null,masterCheckbox:null,sizeLabel:null,text:{singleSelected:"selected",multipleSelected:"selected",noneSelected:"none selected",select:"Select",show:"Show",hide:"Hide"},toggleLink:null,groupedLinks:null,form:null,onSelect:()=>{const n=this.UI.recordCheckboxes.filter(n=>n.checked===!0).length;n===0?(this.UI.sizeLabel.textContent=`(${this.UI.text.noneSelected})`,this.UI.sizeLabel.classList.add("thin"),this.UI.groupedLinks&&(this.UI.groupedLinks.firstElementChild.textContent=this.UI.sizeLabel.textContent,this.UI.sizeLabel.classList.remove("hidden"),this.UI.groupedLinks.classList.add("hidden"))):n===1?(this.UI.sizeLabel.textContent=`${n} ${this.UI.text.singleSelected}`,this.UI.sizeLabel.classList.remove("thin"),this.UI.groupedLinks&&(this.UI.groupedLinks.firstElementChild.textContent=this.UI.sizeLabel.textContent,this.UI.sizeLabel.classList.add("hidden"),this.UI.groupedLinks.classList.remove("hidden"))):(this.UI.sizeLabel.textContent=`${n} ${this.UI.text.multipleSelected}`,this.UI.sizeLabel.classList.remove("thin"),this.UI.groupedLinks&&(this.UI.groupedLinks.firstElementChild.textContent=this.UI.sizeLabel.textContent,this.UI.sizeLabel.classList.add("hidden"),this.UI.groupedLinks.classList.remove("hidden")));n<1?(this.UI.masterCheckbox.checked=!1,this.UI.masterCheckbox.classList.remove("partly")):n>=this.UI.recordCheckboxes.length?(this.UI.masterCheckbox.checked=!0,this.UI.masterCheckbox.classList.remove("partly")):(this.UI.masterCheckbox.checked=!0,this.UI.masterCheckbox.classList.add("partly"))}};this.hide=()=>{this.UI.section.classList.add("hidden"),this.UI.toggleLink&&(this.UI.toggleLink.classList.remove("icon-toggle_on"),this.UI.toggleLink.classList.add("icon-toggle_off"),this.UI.toggleLink.title=this.UI.text.show)};this.show=()=>{this.UI.section.classList.remove("hidden"),this.UI.toggleLink&&(this.UI.toggleLink.classList.add("icon-toggle_on"),this.UI.toggleLink.classList.remove("icon-toggle_off"),this.UI.toggleLink.title=this.UI.text.hide)};this.toggle=()=>{this.UI.section.classList.contains("hidden")?this.show():this.hide()};this.constructor=function(n){var e,u,o,a,f,s,h,v,c,r,i,t,l;if(n.input)typeof n.input=="string"?this.input=document.querySelector(n.input):typeof n.input=="object"&&(this.input=n.input);else{console.error("Bulk actions error: ðŸš© Input element is not configured correctly.");return}if(!this.input||this.input.nodeName!=="DIV"){console.error("Bulk actions error: ðŸš© Input element is not configured correctly.");return}if(typeof n.text=="object"&&(this.UI.text=n.text),e=this.input.querySelectorAll("div.item"),!(e.length<1)){for(u of e){const n=document.createElement("div");if(!u.classList.contains("headings")){const t=document.createElement("input");t.type="checkbox";t.value=u.getAttribute("data-id");t.name="id";n.append(t);t.addEventListener("change",()=>{this.UI.onSelect()});this.UI.recordCheckboxes.push(t)}u.prepend(n)}o=!1;for(a of this.input.classList)if(f=a.match(/key-column-([2-5])/),f){this.input.classList.remove(f[0]);this.input.classList.add(`key-column-${parseInt(f[1])+1}`);o=!0;break}if(o||this.input.classList.add("key-column-2"),s=this.input.style.getPropertyValue("--columns"),s&&this.input.style.setProperty("--columns",parseInt(s)+1),this.UI.section=document.createElement("section"),this.UI.section.className="bulk-actions align vertical-center",this.input.insertAdjacentElement("beforebegin",this.UI.section),this.UI.masterCheckbox=document.createElement("input"),this.UI.masterCheckbox.type="checkbox",h=document.createElement("div"),h.append(this.UI.masterCheckbox),this.UI.section.append(h),this.UI.masterCheckbox.addEventListener("change",n=>{n.currentTarget.checked?this.UI.recordCheckboxes.forEach(n=>n.checked=!0):this.UI.recordCheckboxes.forEach(n=>n.checked=!1),this.UI.onSelect()}),this.UI.sizeLabel=document.createElement("p"),this.UI.section.append(this.UI.sizeLabel),n.links&&typeof n.links=="object"){this.UI.groupedLinks=document.createElement("details");v=document.createElement("summary");this.UI.groupedLinks.append(v);c=document.createElement("nav");this.UI.groupedLinks.append(c);for(r of n.links)i=document.createElement("a"),i.href=r.url,i.textContent=r.text,r.class&&(i.className=r.class),c.append(i),i.addEventListener("click",n=>{n.preventDefault(),this.UI.form.action=n.currentTarget.href,this.UI.form.submit()});this.UI.section.append(this.UI.groupedLinks)}this.UI.groupedLinks&&(this.UI.form=document.createElement("form"),this.UI.form.method="post",this.input.parentElement.insertBefore(this.UI.form,this.input),this.UI.form.append(this.input));t=null;this.input.firstElementChild&&this.input.firstElementChild.nodeName==="HEADER"?(t=this.input.firstElementChild,t.classList.add("align"),t.classList.add("header")):(t=document.createElement("header"),t.className="align header bulk-actions",t.append(this.UI.section),this.UI.form.previousElementSibling&&this.UI.form.previousElementSibling.matches("section.sorting")&&(l=this.UI.form.previousElementSibling,l.classList.remove("small"),t.append(l)),this.input.prepend(t));n.hideable!==!1&&(this.UI.toggleLink=document.createElement("a"),this.UI.toggleLink.href=document.location.href,this.UI.toggleLink.innerHTML=this.UI.text.select,this.UI.toggleLink.className="vertical-center",this.UI.toggleLink.addEventListener("click",n=>{this.toggle(),n.preventDefault()}),t.append(this.UI.toggleLink));n.hidden===!0?this.hide():this.show();this.UI.onSelect();console.log("Data table bulk actions ready.")}};this.constructor(n)};