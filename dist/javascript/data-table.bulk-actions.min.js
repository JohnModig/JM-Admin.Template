var DataTableBulkActions=function(n){this.input=null;this.UI={recordCheckboxes:[],section:null,masterCheckbox:null,sizeLabel:null,text:{singleSelected:"selected",multipleSelected:"selected",noneSelected:"none selected",select:"Select",show:"Show",hide:"Hide"},toggleLink:null,groupedLinks:null,form:null,onSelect:()=>{const n=this.UI.recordCheckboxes.filter(n=>n.checked===!0).length;n===0?(this.UI.sizeLabel.textContent=`(${this.UI.text.noneSelected})`,this.UI.sizeLabel.classList.add("thin"),this.UI.groupedLinks&&(this.UI.groupedLinks.firstElementChild.textContent=this.UI.sizeLabel.textContent,this.UI.sizeLabel.classList.remove("hidden"),this.UI.groupedLinks.classList.add("hidden"))):n===1?(this.UI.sizeLabel.textContent=`${n} ${this.UI.text.singleSelected}`,this.UI.sizeLabel.classList.remove("thin"),this.UI.groupedLinks&&(this.UI.groupedLinks.firstElementChild.textContent=this.UI.sizeLabel.textContent,this.UI.sizeLabel.classList.add("hidden"),this.UI.groupedLinks.classList.remove("hidden"))):(this.UI.sizeLabel.textContent=`${n} ${this.UI.text.multipleSelected}`,this.UI.sizeLabel.classList.remove("thin"),this.UI.groupedLinks&&(this.UI.groupedLinks.firstElementChild.textContent=this.UI.sizeLabel.textContent,this.UI.sizeLabel.classList.add("hidden"),this.UI.groupedLinks.classList.remove("hidden")));n<1?(this.UI.masterCheckbox.checked=!1,this.UI.masterCheckbox.classList.remove("partly")):n>=this.UI.recordCheckboxes.length?(this.UI.masterCheckbox.checked=!0,this.UI.masterCheckbox.classList.remove("partly")):(this.UI.masterCheckbox.checked=!0,this.UI.masterCheckbox.classList.add("partly"))}};this.hide=()=>{this.UI.section.classList.add("hidden"),this.UI.toggleLink&&(this.UI.toggleLink.classList.remove("icon-toggle_on"),this.UI.toggleLink.classList.add("icon-toggle_off"),this.UI.toggleLink.title=this.UI.text.show)};this.show=()=>{this.UI.section.classList.remove("hidden"),this.UI.toggleLink&&(this.UI.toggleLink.classList.add("icon-toggle_on"),this.UI.toggleLink.classList.remove("icon-toggle_off"),this.UI.toggleLink.title=this.UI.text.hide)};this.toggle=()=>{this.UI.section.classList.contains("hidden")?this.show():this.hide()};this.constructor=function(n){var f,r,e,c,u,o,s,l,h,i,t;if(n.input)typeof n.input=="string"?this.input=document.querySelector(n.input):typeof n.input=="object"&&(this.input=n.input);else{console.error("Bulk actions error: ðŸš© Input element is not configured correctly.");return}if(!this.input||this.input.nodeName!=="DIV"){console.error("Bulk actions error: ðŸš© Input element is not configured correctly.");return}if(typeof n.text=="object"&&(this.UI.text=n.text),f=this.input.querySelectorAll("div.item"),!(f.length<1)){for(r of f){const n=document.createElement("div");if(!r.classList.contains("headings")){const t=document.createElement("input");t.type="checkbox";t.value=r.getAttribute("data-id");t.name="id";n.append(t);t.addEventListener("change",()=>{this.UI.onSelect()});this.UI.recordCheckboxes.push(t)}r.prepend(n)}e=!1;for(c of this.input.classList)if(u=c.match(/key-column-([2-5])/),u){this.input.classList.remove(u[0]);this.input.classList.add(`key-column-${parseInt(u[1])+1}`);e=!0;break}if(e||this.input.classList.add("key-column-2"),o=this.input.style.getPropertyValue("--columns"),o&&this.input.style.setProperty("--columns",parseInt(o)+1),this.UI.section=document.createElement("section"),this.UI.section.className="bulk-actions align vertical-center",this.input.insertAdjacentElement("beforebegin",this.UI.section),this.UI.masterCheckbox=document.createElement("input"),this.UI.masterCheckbox.type="checkbox",s=document.createElement("div"),s.append(this.UI.masterCheckbox),this.UI.section.append(s),this.UI.masterCheckbox.addEventListener("change",n=>{n.currentTarget.checked?this.UI.recordCheckboxes.forEach(n=>n.checked=!0):this.UI.recordCheckboxes.forEach(n=>n.checked=!1),this.UI.onSelect()}),this.UI.sizeLabel=document.createElement("p"),this.UI.section.append(this.UI.sizeLabel),n.links&&typeof n.links=="object"){this.UI.groupedLinks=document.createElement("details");l=document.createElement("summary");this.UI.groupedLinks.append(l);h=document.createElement("nav");this.UI.groupedLinks.append(h);for(i of n.links)t=document.createElement("a"),t.href=i.url,t.textContent=i.text,i.class&&(t.className=i.class),h.append(t),t.addEventListener("click",n=>{n.preventDefault(),this.UI.form.action=n.currentTarget.href,this.UI.form.submit()});this.UI.section.append(this.UI.groupedLinks)}this.UI.groupedLinks&&(this.UI.form=document.createElement("form"),this.UI.form.method="post",this.input.parentElement.insertBefore(this.UI.form,this.input),this.UI.form.append(this.input));n.hideable!==!1&&this.input.firstElementChild.nodeName==="HEADER"&&(this.input.firstElementChild.classList.contains("align")||(this.input.firstElementChild.classList.add("align"),this.input.firstElementChild.classList.add("header")),this.UI.toggleLink=document.createElement("a"),this.UI.toggleLink.href=document.location.href,this.UI.toggleLink.innerHTML=this.UI.text.select,this.UI.toggleLink.className="vertical-center",this.UI.toggleLink.addEventListener("click",n=>{this.toggle(),n.preventDefault()}),this.input.children.length>1&&this.input.firstElementChild.append(this.UI.toggleLink));n.hidden===!0?this.hide():this.show();this.UI.onSelect();console.log("Data table bulk actions ready.")}};this.constructor(n)};